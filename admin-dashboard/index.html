<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å˜Ÿå˜Ÿé¢„çº¦é€š - ç®¡ç†åå°</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/element-plus@2.3.0/dist/index.css" rel="stylesheet">
</head>
<body>
  <div id="app">
    <div class="min-h-screen bg-gray-100">
      <!-- é¡¶éƒ¨å¯¼èˆª -->
      <nav class="bg-white shadow-lg">
        <div class="max-w-7xl mx-auto px-4">
          <div class="flex justify-between h-16">
            <div class="flex items-center">
              <h1 class="text-xl font-bold">å˜Ÿå˜Ÿé¢„çº¦é€š - ç®¡ç†åå°</h1>
            </div>
            <div class="flex items-center space-x-4">
              <span class="text-gray-700">ç®¡ç†å‘˜: {{ adminName }}</span>
              <button @click="logout" class="bg-red-500 text-white px-4 py-2 rounded">é€€å‡º</button>
            </div>
          </div>
        </div>
      </nav>

      <div class="flex">
        <!-- å·¦ä¾§èœå• -->
        <aside class="w-64 bg-white shadow-lg min-h-screen">
          <ul class="py-4">
            <li v-for="menu in menuItems" :key="menu.id">
              <a
                @click="activeMenu = menu.id"
                :class="['block px-6 py-3 hover:bg-blue-50 cursor-pointer', activeMenu === menu.id ? 'bg-blue-100 text-blue-600 font-bold' : '']"
              >
                {{ menu.name }}
              </a>
            </li>
          </ul>
        </aside>

        <!-- å³ä¾§å†…å®¹ -->
        <main class="flex-1 p-6">
          <!-- çƒ­é—¨æœç´¢ç®¡ç† -->
          <div v-if="activeMenu === 'hot_searches'" class="bg-white rounded-lg shadow p-6">
            <h2 class="text-2xl font-bold mb-6">çƒ­é—¨æœç´¢ç®¡ç†</h2>

            <div class="mb-6">
              <h3 class="text-lg font-semibold mb-3">ç®¡ç†å‘˜è®¾ç½®çš„çƒ­è¯</h3>
              <div class="space-y-2">
                <div v-for="(item, index) in hotSearches" :key="index" class="flex items-center space-x-2">
                  <input
                    v-model="item.keyword"
                    class="border rounded px-3 py-2 flex-1"
                    placeholder="å…³é”®è¯"
                  >
                  <input
                    v-model.number="item.priority"
                    type="number"
                    class="border rounded px-3 py-2 w-24"
                    placeholder="ä¼˜å…ˆçº§"
                  >
                  <label class="flex items-center">
                    <input type="checkbox" v-model="item.isHot" class="mr-2">
                    çƒ­é—¨æ ‡è®°
                  </label>
                  <button @click="removeHotSearch(index)" class="bg-red-500 text-white px-3 py-2 rounded">åˆ é™¤</button>
                </div>
              </div>
              <button @click="addHotSearch" class="mt-3 bg-green-500 text-white px-4 py-2 rounded">æ·»åŠ çƒ­è¯</button>
            </div>

            <div class="mb-6">
              <h3 class="text-lg font-semibold mb-3">ç®—æ³•ç”Ÿæˆçš„çƒ­è¯ï¼ˆæœ€è¿‘30å¤©ï¼‰</h3>
              <div class="bg-gray-50 p-4 rounded">
                <div v-for="item in algorithmSearches" :key="item.keyword" class="flex justify-between py-2 border-b">
                  <span>{{ item.keyword }}</span>
                  <div class="space-x-4 text-sm text-gray-600">
                    <span>æœç´¢{{ item.count }}æ¬¡</span>
                    <span>ç‚¹å‡»ç‡{{ item.clickRate }}%</span>
                    <button @click="addToManaged(item)" class="text-blue-500 hover:underline">æ·»åŠ åˆ°ç®¡ç†</button>
                  </div>
                </div>
              </div>
            </div>

            <button @click="saveHotSearches" class="bg-blue-500 text-white px-6 py-3 rounded">ä¿å­˜é…ç½®</button>
          </div>

          <!-- ç­›é€‰é€‰é¡¹ç®¡ç† -->
          <div v-if="activeMenu === 'filter_options'" class="bg-white rounded-lg shadow p-6">
            <h2 class="text-2xl font-bold mb-6">ç­›é€‰é€‰é¡¹ç®¡ç†</h2>

            <div class="space-y-6">
              <!-- åœ°åŒºç®¡ç† - æ”¯æŒå±‚çº§ç»“æ„ -->
              <div>
                <h3 class="text-lg font-semibold mb-3">éŸ©å›½åœ°åŒºåˆ—è¡¨ï¼ˆåŒº â†’ ä¸‹å±åœ°åŒºï¼‰</h3>
                <div class="space-y-4 max-h-96 overflow-y-auto">
                  <div v-for="(district, index) in filterOptions.districts" :key="index" class="border rounded-lg p-4 bg-gray-50">
                    <div class="flex items-center justify-between mb-2">
                      <div class="flex items-center space-x-2">
                        <span class="font-medium">{{ district.label }}</span>
                        <span class="text-gray-500">({{ district.labelKr }})</span>
                        <span class="text-sm text-blue-600">åŒ…å« {{ district.children ? district.children.length : 0 }} ä¸ªåœ°åŒº</span>
                      </div>
                      <button @click="toggleDistrictExpand(index)" class="text-blue-500 hover:underline">
                        {{ expandedDistricts[index] ? 'æ”¶èµ·' : 'å±•å¼€' }}
                      </button>
                    </div>

                    <!-- ä¸‹å±åœ°åŒºåˆ—è¡¨ -->
                    <div v-if="expandedDistricts[index] && district.children && district.children.length > 0" class="ml-4 mt-3 grid grid-cols-2 gap-2">
                      <div v-for="area in district.children" :key="area.value" class="text-sm bg-white p-2 rounded">
                        <span class="font-medium">{{ area.label }}</span>
                        <span class="text-gray-500 ml-1">({{ area.labelKr }})</span>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="mt-4 text-sm text-gray-600">
                  å…± {{ filterOptions.districts.length }} ä¸ªåŒºï¼Œ
                  {{ filterOptions.districts.reduce((total, d) => total + (d.children ? d.children.length : 0), 0) }} ä¸ªåœ°åŒº
                </div>
              </div>

              <!-- æœåŠ¡åˆ†ç±»ç®¡ç† -->
              <div>
                <h3 class="text-lg font-semibold mb-3">æœåŠ¡åˆ†ç±»</h3>
                <div class="space-y-2">
                  <div v-for="(item, index) in filterOptions.services" :key="index" class="flex items-center space-x-2">
                    <input v-model="item.value" class="border rounded px-3 py-2" placeholder="å€¼">
                    <input v-model="item.label" class="border rounded px-3 py-2" placeholder="æ˜¾ç¤ºåç§°">
                    <button @click="removeService(index)" class="bg-red-500 text-white px-3 py-2 rounded">åˆ é™¤</button>
                  </div>
                </div>
                <button @click="addService" class="mt-3 bg-green-500 text-white px-4 py-2 rounded">æ·»åŠ æœåŠ¡</button>
              </div>

              <!-- ä»·æ ¼åŒºé—´ç®¡ç† -->
              <div>
                <h3 class="text-lg font-semibold mb-3">ä»·æ ¼åŒºé—´</h3>
                <div class="space-y-2">
                  <div v-for="(item, index) in filterOptions.priceRanges" :key="index" class="flex items-center space-x-2">
                    <input v-model="item.value" class="border rounded px-3 py-2" placeholder="å€¼">
                    <input v-model="item.label" class="border rounded px-3 py-2" placeholder="æ˜¾ç¤ºåç§°">
                    <button @click="removePriceRange(index)" class="bg-red-500 text-white px-3 py-2 rounded">åˆ é™¤</button>
                  </div>
                </div>
                <button @click="addPriceRange" class="mt-3 bg-green-500 text-white px-4 py-2 rounded">æ·»åŠ ä»·æ ¼åŒºé—´</button>
              </div>
            </div>

            <button @click="saveFilterOptions" class="mt-6 bg-blue-500 text-white px-6 py-3 rounded">ä¿å­˜é…ç½®</button>
          </div>

          <!-- è¯Šæ‰€ç®¡ç† -->
          <div v-if="activeMenu === 'clinics'" class="bg-white rounded-lg shadow p-6">
            <h2 class="text-2xl font-bold mb-6">è¯Šæ‰€ç®¡ç†</h2>

            <div class="mb-4">
              <button @click="addClinic" class="bg-green-500 text-white px-4 py-2 rounded">æ·»åŠ è¯Šæ‰€</button>
            </div>

            <table class="w-full border-collapse">
              <thead>
                <tr class="bg-gray-50">
                  <th class="border px-4 py-2">è¯Šæ‰€åç§°</th>
                  <th class="border px-4 py-2">åœ°åŒº</th>
                  <th class="border px-4 py-2">è¯„åˆ†</th>
                  <th class="border px-4 py-2">çŠ¶æ€</th>
                  <th class="border px-4 py-2">æ“ä½œ</th>
                </tr>
              </thead>
              <tbody>
                <tr v-for="clinic in clinics" :key="clinic._id">
                  <td class="border px-4 py-2">{{ clinic.name }}</td>
                  <td class="border px-4 py-2">{{ clinic.district }}</td>
                  <td class="border px-4 py-2">{{ clinic.rating }}</td>
                  <td class="border px-4 py-2">
                    <span :class="clinic.status === 'active' ? 'text-green-600' : 'text-red-600'">
                      {{ clinic.status === 'active' ? 'å¯ç”¨' : 'åœç”¨' }}
                    </span>
                  </td>
                  <td class="border px-4 py-2">
                    <button @click="editClinic(clinic)" class="text-blue-500 hover:underline mr-2">ç¼–è¾‘</button>
                    <button @click="toggleClinicStatus(clinic)" class="text-orange-500 hover:underline mr-2">
                      {{ clinic.status === 'active' ? 'åœç”¨' : 'å¯ç”¨' }}
                    </button>
                    <button @click="deleteClinic(clinic._id)" class="text-red-500 hover:underline">åˆ é™¤</button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>

          <!-- é™ªåŒé¡¾é—®ç®¡ç† -->
          <div v-if="activeMenu === 'consultants'" class="bg-white rounded-lg shadow p-6">
            <h2 class="text-2xl font-bold mb-6">é™ªåŒé¡¾é—®ç®¡ç†</h2>

            <div class="mb-4">
              <button @click="addConsultant" class="bg-green-500 text-white px-4 py-2 rounded">æ·»åŠ é¡¾é—®</button>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
              <div v-for="consultant in consultants" :key="consultant._id" class="border rounded-lg p-4 bg-white shadow">
                <!-- å¤´åƒå’ŒåŸºæœ¬ä¿¡æ¯ -->
                <div class="flex items-start mb-3">
                  <div class="w-16 h-16 rounded-full bg-gray-200 flex items-center justify-center mr-3">
                    <span class="text-2xl">ğŸ‘¤</span>
                  </div>
                  <div class="flex-1">
                    <div class="font-bold text-lg">{{ consultant.name }}</div>
                    <div v-if="consultant.nameKr" class="text-sm text-gray-500">{{ consultant.nameKr }}</div>
                    <div class="flex items-center mt-1">
                      <span class="text-yellow-500">â˜…</span>
                      <span class="ml-1 text-sm font-semibold">{{ consultant.rating }}</span>
                    </div>
                  </div>
                </div>

                <!-- æ ‡ç­¾ -->
                <div class="flex flex-wrap gap-1 mb-3">
                  <span v-for="tag in consultant.tags" :key="tag" class="bg-blue-100 text-blue-600 text-xs px-2 py-1 rounded">
                    {{ tag }}
                  </span>
                  <span v-if="consultant.featured" class="bg-red-100 text-red-600 text-xs px-2 py-1 rounded">
                    æ¨è
                  </span>
                </div>

                <!-- è¯¦ç»†ä¿¡æ¯ -->
                <div class="text-sm space-y-1 mb-3">
                  <div><span class="text-gray-600">ç»éªŒ:</span> {{ consultant.experience }}å¹´</div>
                  <div><span class="text-gray-600">ä¸“é•¿:</span> {{ (consultant.specialties || []).join('ã€') }}</div>
                  <div><span class="text-gray-600">åŒºåŸŸ:</span> {{ (consultant.serviceAreas || []).join('ã€') }}</div>
                  <div><span class="text-gray-600">å¾®ä¿¡:</span> {{ consultant.wechat }}</div>
                  <div>
                    <span class="text-gray-600">çŠ¶æ€:</span>
                    <span :class="getConsultantStatusClass(consultant.status)">
                      {{ getConsultantStatusText(consultant.status) }}
                    </span>
                  </div>
                </div>

                <!-- æ“ä½œæŒ‰é’® -->
                <div class="flex space-x-2">
                  <button @click="editConsultant(consultant)" class="flex-1 bg-blue-500 text-white px-3 py-1 rounded text-sm hover:bg-blue-600">
                    ç¼–è¾‘
                  </button>
                  <button @click="deleteConsultant(consultant._id)" class="flex-1 bg-red-500 text-white px-3 py-1 rounded text-sm hover:bg-red-600">
                    åˆ é™¤
                  </button>
                </div>
              </div>
            </div>

            <!-- ç©ºçŠ¶æ€ -->
            <div v-if="!consultants || consultants.length === 0" class="text-center py-20">
              <p class="text-gray-500 text-lg mb-4">æš‚æ— é¡¾é—®æ•°æ®</p>
              <button @click="addConsultant" class="bg-green-500 text-white px-6 py-3 rounded">æ·»åŠ ç¬¬ä¸€ä¸ªé¡¾é—®</button>
            </div>
          </div>

          <!-- é¢„çº¦ç®¡ç† -->
          <div v-if="activeMenu === 'appointments'" class="bg-white rounded-lg shadow p-6">
            <h2 class="text-2xl font-bold mb-6">é¢„çº¦ç®¡ç†</h2>

            <!-- çŠ¶æ€ç­›é€‰ -->
            <div class="mb-4 flex space-x-2">
              <button
                v-for="status in appointmentStatuses"
                :key="status.value"
                @click="selectedAppointmentStatus = status.value"
                :class="['px-4 py-2 rounded', selectedAppointmentStatus === status.value ? 'bg-blue-500 text-white' : 'bg-gray-200']"
              >
                {{ status.label }}
                <span class="ml-1">({{ getStatusCount(status.value) }})</span>
              </button>
            </div>

            <!-- é¢„çº¦åˆ—è¡¨ -->
            <table class="w-full border-collapse">
              <thead>
                <tr class="bg-gray-50">
                  <th class="border px-4 py-2 text-left">é¢„çº¦ç¼–å·</th>
                  <th class="border px-4 py-2 text-left">å®¢æˆ·å§“å</th>
                  <th class="border px-4 py-2 text-left">è”ç³»ç”µè¯</th>
                  <th class="border px-4 py-2 text-left">è¯Šæ‰€</th>
                  <th class="border px-4 py-2 text-left">æœåŠ¡é¡¹ç›®</th>
                  <th class="border px-4 py-2 text-left">é¢„çº¦æ—¶é—´</th>
                  <th class="border px-4 py-2 text-left">çŠ¶æ€</th>
                  <th class="border px-4 py-2 text-left">æ“ä½œ</th>
                </tr>
              </thead>
              <tbody>
                <tr v-for="appointment in filteredAppointments" :key="appointment.id">
                  <td class="border px-4 py-2">{{ appointment.id }}</td>
                  <td class="border px-4 py-2">{{ appointment.customerName }}</td>
                  <td class="border px-4 py-2">{{ appointment.phone }}</td>
                  <td class="border px-4 py-2">{{ appointment.clinicName }}</td>
                  <td class="border px-4 py-2">{{ appointment.serviceName }}</td>
                  <td class="border px-4 py-2">{{ formatDate(appointment.appointmentTime) }}</td>
                  <td class="border px-4 py-2">
                    <span :class="getStatusClass(appointment.status)">
                      {{ getStatusLabel(appointment.status) }}
                    </span>
                  </td>
                  <td class="border px-4 py-2">
                    <button
                      v-if="appointment.status === 'pending'"
                      @click="showProcessModal(appointment, 'confirm')"
                      class="text-green-500 hover:underline mr-2"
                    >
                      ç¡®è®¤
                    </button>
                    <button
                      v-if="appointment.status === 'pending' || appointment.status === 'confirmed'"
                      @click="showProcessModal(appointment, 'cancel')"
                      class="text-red-500 hover:underline mr-2"
                    >
                      å–æ¶ˆ
                    </button>
                    <button
                      v-if="appointment.status === 'confirmed'"
                      @click="updateAppointmentStatus(appointment.id, 'completed')"
                      class="text-blue-500 hover:underline"
                    >
                      å®Œæˆ
                    </button>
                  </td>
                </tr>
              </tbody>
            </table>

            <div v-if="filteredAppointments.length === 0" class="text-center py-8 text-gray-500">
              æš‚æ— {{ getStatusLabel(selectedAppointmentStatus) }}çš„é¢„çº¦
            </div>
          </div>

          <!-- é¢„çº¦å¤„ç†å¼¹çª— -->
          <div v-if="showAppointmentProcessModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
            <div class="bg-white rounded-lg p-6 w-full max-w-md">
              <h3 class="text-xl font-bold mb-4">
                {{ processingAction === 'confirm' ? 'ç¡®è®¤é¢„çº¦' : 'å–æ¶ˆé¢„çº¦' }}
              </h3>

              <!-- é¢„çº¦ä¿¡æ¯ -->
              <div class="bg-gray-50 p-4 rounded mb-4" v-if="processingAppointment">
                <p><span class="font-medium">å®¢æˆ·ï¼š</span>{{ processingAppointment.customerName }}</p>
                <p><span class="font-medium">æœåŠ¡ï¼š</span>{{ processingAppointment.serviceName }}</p>
                <p><span class="font-medium">æ—¶é—´ï¼š</span>{{ formatDate(processingAppointment.appointmentTime) }}</p>
              </div>

              <!-- å¤‡æ³¨/åŸå› è¾“å…¥ -->
              <div class="mb-4">
                <label class="block text-sm font-medium mb-2">
                  {{ processingAction === 'confirm' ? 'å¤‡æ³¨ä¿¡æ¯ï¼ˆå¯é€‰ï¼‰' : 'å–æ¶ˆåŸå› ï¼ˆå°†é€šçŸ¥å®¢æˆ·ï¼‰' }}
                </label>
                <textarea
                  v-model="processRemark"
                  class="w-full border rounded px-3 py-2"
                  rows="3"
                  :placeholder="processingAction === 'confirm' ? 'å¦‚ï¼šè¯·å‡†æ—¶åˆ°åº—' : 'å¦‚ï¼šè¯¥æ—¶æ®µå·²æ»¡ï¼Œè¯·é€‰æ‹©å…¶ä»–æ—¶é—´'"
                ></textarea>
              </div>

              <!-- é€šçŸ¥é€‰é¡¹ -->
              <div class="mb-4">
                <label class="flex items-center">
                  <input type="checkbox" v-model="sendNotification" class="mr-2">
                  <span class="text-sm">å‘é€å¾®ä¿¡é€šçŸ¥ç»™å®¢æˆ·</span>
                </label>
                <p class="text-xs text-gray-500 mt-1">å‹¾é€‰åå°†é€šè¿‡å¾®ä¿¡è®¢é˜…æ¶ˆæ¯é€šçŸ¥å®¢æˆ·é¢„çº¦ç»“æœ</p>
              </div>

              <!-- æŒ‰é’® -->
              <div class="flex justify-end space-x-2">
                <button @click="closeProcessModal" class="px-4 py-2 border rounded hover:bg-gray-100">
                  å–æ¶ˆ
                </button>
                <button
                  @click="confirmProcessAppointment"
                  :class="['px-4 py-2 rounded text-white', processingAction === 'confirm' ? 'bg-green-500 hover:bg-green-600' : 'bg-red-500 hover:bg-red-600']"
                >
                  {{ processingAction === 'confirm' ? 'ç¡®è®¤é¢„çº¦' : 'ç¡®è®¤å–æ¶ˆ' }}
                </button>
              </div>
            </div>
          </div>

          <!-- æœåŠ¡é¡¹ç›®ç®¡ç† -->
          <div v-if="activeMenu === 'services'" class="bg-white rounded-lg shadow p-6">
            <h2 class="text-2xl font-bold mb-6">æœåŠ¡é¡¹ç›®ç®¡ç†</h2>

            <div class="mb-4">
              <button @click="addService" class="bg-green-500 text-white px-4 py-2 rounded">æ·»åŠ æœåŠ¡é¡¹ç›®</button>
            </div>

            <!-- æœåŠ¡åˆ†ç±»æ ‡ç­¾ -->
            <div class="mb-4 flex space-x-2">
              <button
                v-for="cat in serviceCategories"
                :key="cat"
                @click="selectedCategory = cat"
                :class="['px-4 py-2 rounded', selectedCategory === cat ? 'bg-blue-500 text-white' : 'bg-gray-200']"
              >
                {{ cat }}
              </button>
            </div>

            <!-- æœåŠ¡åˆ—è¡¨ -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
              <div v-for="service in filteredServices" :key="service.id" class="border rounded-lg p-4">
                <div class="flex justify-between items-start mb-2">
                  <h3 class="font-bold text-lg">{{ service.name }}</h3>
                  <span v-if="service.isHot" class="bg-red-500 text-white text-xs px-2 py-1 rounded">çƒ­é—¨</span>
                </div>
                <p class="text-gray-600 text-sm mb-2">{{ service.nameKr }}</p>
                <p class="text-gray-700 mb-2">{{ service.description }}</p>
                <div class="text-sm text-gray-500 space-y-1">
                  <p>åˆ†ç±»ï¼š{{ service.category }}</p>
                  <p>ä»·æ ¼ï¼š{{ service.priceRange }}</p>
                  <p>æ—¶é•¿ï¼š{{ service.duration }}åˆ†é’Ÿ</p>
                </div>
                <div class="mt-3 flex justify-end space-x-2">
                  <button @click="editService(service)" class="text-blue-500 hover:underline">ç¼–è¾‘</button>
                  <button @click="deleteService(service.id)" class="text-red-500 hover:underline">åˆ é™¤</button>
                </div>
              </div>
            </div>
          </div>

          <!-- è¯„ä»·ç®¡ç† -->
          <div v-if="activeMenu === 'reviews'" class="bg-white rounded-lg shadow p-6">
            <h2 class="text-2xl font-bold mb-6">è¯„ä»·ç®¡ç†</h2>

            <!-- çŠ¶æ€ç­›é€‰ -->
            <div class="mb-4 flex space-x-2">
              <button
                v-for="status in reviewStatuses"
                :key="status.value"
                @click="selectedReviewStatus = status.value"
                :class="['px-4 py-2 rounded', selectedReviewStatus === status.value ? 'bg-blue-500 text-white' : 'bg-gray-200']"
              >
                {{ status.label }}
                <span class="ml-1">({{ getReviewStatusCount(status.value) }})</span>
              </button>
            </div>

            <!-- è¯„ä»·åˆ—è¡¨ -->
            <div class="space-y-4">
              <div v-for="review in filteredReviews" :key="review.id" class="border rounded-lg p-4 bg-white">
                <div class="flex justify-between items-start mb-2">
                  <div>
                    <span class="font-bold">{{ review.customerName }}</span>
                    <span class="ml-2 text-gray-500">{{ formatDate(review.createTime) }}</span>
                  </div>
                  <div class="flex items-center">
                    <div class="mr-3">
                      <span v-for="n in 5" :key="n" class="text-yellow-500">
                        {{ n <= review.rating ? 'â˜…' : 'â˜†' }}
                      </span>
                      <span class="ml-2 text-gray-600">{{ review.rating }}.0</span>
                    </div>
                    <span :class="getReviewStatusClass(review.status)">
                      {{ getReviewStatusLabel(review.status) }}
                    </span>
                  </div>
                </div>

                <div class="text-gray-600 mb-2">
                  <span class="font-semibold">è¯Šæ‰€ï¼š</span>{{ review.clinicName }}
                  <span class="ml-4 font-semibold">æœåŠ¡ï¼š</span>{{ review.serviceName }}
                </div>

                <div class="bg-gray-50 p-3 rounded mb-3">
                  <p class="text-gray-800">{{ review.content }}</p>
                </div>

                <!-- å›¾ç‰‡ -->
                <div v-if="review.images && review.images.length > 0" class="flex space-x-2 mb-3">
                  <div v-for="(img, index) in review.images" :key="index" class="w-20 h-20 bg-gray-200 rounded flex items-center justify-center text-gray-500 text-xs">
                    å›¾ç‰‡{{ index + 1 }}
                  </div>
                </div>

                <!-- å›å¤ -->
                <div v-if="review.reply" class="bg-blue-50 p-3 rounded mb-3">
                  <p class="text-sm text-gray-600 mb-1">å•†å®¶å›å¤ï¼š</p>
                  <p class="text-gray-800">{{ review.reply }}</p>
                </div>

                <!-- æ“ä½œæŒ‰é’® -->
                <div class="flex justify-end space-x-2">
                  <button
                    v-if="review.status === 'pending'"
                    @click="approveReview(review.id)"
                    class="text-green-500 hover:underline"
                  >
                    é€šè¿‡
                  </button>
                  <button
                    v-if="review.status === 'pending'"
                    @click="rejectReview(review.id)"
                    class="text-red-500 hover:underline"
                  >
                    æ‹’ç»
                  </button>
                  <button
                    v-if="!review.reply"
                    @click="replyReview(review)"
                    class="text-blue-500 hover:underline"
                  >
                    å›å¤
                  </button>
                  <button
                    v-if="review.status === 'approved'"
                    @click="hideReview(review.id)"
                    class="text-orange-500 hover:underline"
                  >
                    éšè—
                  </button>
                  <button
                    @click="deleteReview(review.id)"
                    class="text-red-500 hover:underline"
                  >
                    åˆ é™¤
                  </button>
                </div>
              </div>
            </div>

            <div v-if="filteredReviews.length === 0" class="text-center py-8 text-gray-500">
              æš‚æ— {{ getReviewStatusLabel(selectedReviewStatus) }}çš„è¯„ä»·
            </div>
          </div>

          <!-- è”ç³»æ–¹å¼ç®¡ç† -->
          <div v-if="activeMenu === 'contact'" class="bg-white rounded-lg shadow p-6">
            <h2 class="text-2xl font-bold mb-6">è”ç³»æ–¹å¼ç®¡ç†</h2>
            <p class="text-gray-500 mb-6">é…ç½®å°ç¨‹åºå’¨è¯¢é¡µé¢æ˜¾ç¤ºçš„è”ç³»æ–¹å¼</p>

            <div class="space-y-6 max-w-xl">
              <!-- å®¢æœäºŒç»´ç  -->
              <div>
                <label class="block text-sm font-medium mb-2">å®¢æœäºŒç»´ç </label>
                <p class="text-xs text-gray-500 mb-2">ä¸Šä¼ å¾®ä¿¡äºŒç»´ç å›¾ç‰‡ï¼Œç”¨æˆ·å¯æ‰«ç æ·»åŠ å®¢æœå’¨è¯¢</p>
                <div v-if="contactConfig.qrCodeImage" class="mb-3 relative inline-block">
                  <img :src="contactConfig.qrCodeImage" class="w-40 h-40 object-cover rounded border" />
                  <button @click="deleteContactQrCode" class="absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 text-sm">Ã—</button>
                </div>
                <div v-else class="mb-3 w-40 h-40 border-2 border-dashed border-gray-300 rounded flex items-center justify-center text-gray-400">
                  æš‚æ— äºŒç»´ç 
                </div>
                <div class="flex items-center gap-4">
                  <input type="file" accept="image/*" @change="uploadContactQrCode" id="qrcodeUpload" :disabled="uploadingContactQrCode" class="border rounded px-2 py-1">
                  <span v-if="uploadingContactQrCode" class="text-pink-500">ä¸Šä¼ ä¸­...</span>
                </div>
              </div>

              <!-- å¾®ä¿¡å· -->
              <div>
                <label class="block text-sm font-medium mb-1">å®¢æœå¾®ä¿¡å·</label>
                <input v-model="contactConfig.wechatId" class="w-full border rounded px-3 py-2" placeholder="è¾“å…¥å®¢æœå¾®ä¿¡å·">
                <p class="text-xs text-gray-400 mt-1">å¦‚æœæ²¡æœ‰ä¸Šä¼ äºŒç»´ç ï¼Œå°†æ˜¾ç¤ºå¾®ä¿¡å·ä¾›ç”¨æˆ·å¤åˆ¶</p>
              </div>

              <!-- è”ç³»ç”µè¯ï¼ˆå¯é€‰ï¼‰ -->
              <div>
                <label class="block text-sm font-medium mb-1">è”ç³»ç”µè¯ï¼ˆå¯é€‰ï¼‰</label>
                <input v-model="contactConfig.phone" class="w-full border rounded px-3 py-2" placeholder="è¾“å…¥è”ç³»ç”µè¯">
              </div>

              <!-- å·¥ä½œæ—¶é—´ -->
              <div>
                <label class="block text-sm font-medium mb-1">åœ¨çº¿æœåŠ¡æ—¶é—´</label>
                <input v-model="contactConfig.workTime" class="w-full border rounded px-3 py-2" placeholder="å¦‚ï¼š10:00-22:00">
              </div>

              <!-- ä¿å­˜æŒ‰é’® -->
              <div class="pt-4">
                <button @click="saveContactConfig" class="bg-green-500 text-white px-6 py-2 rounded hover:bg-green-600">
                  ä¿å­˜é…ç½®
                </button>
              </div>
            </div>
          </div>

          <!-- è½®æ’­å›¾ç®¡ç† -->
          <div v-if="activeMenu === 'banners'" class="bg-white rounded-lg shadow p-6">
            <h2 class="text-2xl font-bold mb-6">è½®æ’­å›¾ç®¡ç†</h2>

            <div class="space-y-4">
              <div v-for="(banner, index) in banners" :key="index" class="border rounded p-4">
                <div class="grid grid-cols-2 gap-4">
                  <div>
                    <label class="block text-sm font-medium mb-1">å›¾ç‰‡URL</label>
                    <input v-model="banner.imageUrl" class="w-full border rounded px-3 py-2" placeholder="å›¾ç‰‡åœ°å€">
                  </div>
                  <div>
                    <label class="block text-sm font-medium mb-1">æ ‡é¢˜</label>
                    <input v-model="banner.title" class="w-full border rounded px-3 py-2" placeholder="æ ‡é¢˜">
                  </div>
                  <div>
                    <label class="block text-sm font-medium mb-1">é“¾æ¥</label>
                    <input v-model="banner.link" class="w-full border rounded px-3 py-2" placeholder="è·³è½¬é“¾æ¥">
                  </div>
                  <div>
                    <label class="block text-sm font-medium mb-1">æ’åº</label>
                    <input v-model.number="banner.sortOrder" type="number" class="w-full border rounded px-3 py-2" placeholder="æ’åº">
                  </div>
                </div>
                <button @click="removeBanner(index)" class="mt-2 bg-red-500 text-white px-3 py-1 rounded">åˆ é™¤</button>
              </div>
            </div>

            <button @click="addBanner" class="mt-4 bg-green-500 text-white px-4 py-2 rounded">æ·»åŠ è½®æ’­å›¾</button>
            <button @click="saveBanners" class="mt-4 ml-2 bg-blue-500 text-white px-6 py-2 rounded">ä¿å­˜é…ç½®</button>
          </div>
        </main>
      </div>

      <!-- æœåŠ¡é¡¹ç›®ç¼–è¾‘æ¨¡æ€æ¡† -->
      <div v-if="showServiceModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
        <div class="bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto">
          <h3 class="text-xl font-bold mb-4">{{ editingService?.id ? 'ç¼–è¾‘æœåŠ¡é¡¹ç›®' : 'æ·»åŠ æœåŠ¡é¡¹ç›®' }}</h3>

          <div class="space-y-4">
            <div>
              <label class="block text-sm font-medium mb-1">æœåŠ¡åç§°</label>
              <input v-model="editingService.name" class="w-full border rounded px-3 py-2" placeholder="ä¸­æ–‡åç§°">
            </div>

            <div>
              <label class="block text-sm font-medium mb-1">éŸ©æ–‡åç§°</label>
              <input v-model="editingService.nameKr" class="w-full border rounded px-3 py-2" placeholder="éŸ©æ–‡åç§°">
            </div>

            <div>
              <label class="block text-sm font-medium mb-1">æœåŠ¡åˆ†ç±»</label>
              <select v-model="editingService.category" class="w-full border rounded px-3 py-2">
                <option value="æ•´å½¢æ‰‹æœ¯">æ•´å½¢æ‰‹æœ¯</option>
                <option value="çš®è‚¤ç®¡ç†">çš®è‚¤ç®¡ç†</option>
                <option value="å¾®æ•´å½¢">å¾®æ•´å½¢</option>
                <option value="æ¿€å…‰æ²»ç–—">æ¿€å…‰æ²»ç–—</option>
                <option value="å…¶ä»–">å…¶ä»–</option>
              </select>
            </div>

            <div>
              <label class="block text-sm font-medium mb-1">æœåŠ¡æè¿°</label>
              <textarea v-model="editingService.description" class="w-full border rounded px-3 py-2" rows="3" placeholder="è¯¦ç»†æè¿°"></textarea>
            </div>

            <div>
              <label class="block text-sm font-medium mb-1">ä»·æ ¼èŒƒå›´</label>
              <input v-model="editingService.priceRange" class="w-full border rounded px-3 py-2" placeholder="ä¾‹ï¼š100-300ä¸‡éŸ©å…ƒ">
            </div>

            <div>
              <label class="block text-sm font-medium mb-1">æœåŠ¡æ—¶é•¿ï¼ˆåˆ†é’Ÿï¼‰</label>
              <input v-model.number="editingService.duration" type="number" class="w-full border rounded px-3 py-2" placeholder="60">
            </div>

            <div class="flex items-center">
              <input type="checkbox" v-model="editingService.isHot" id="serviceHot" class="mr-2">
              <label for="serviceHot">çƒ­é—¨æœåŠ¡</label>
            </div>
          </div>

          <div class="flex justify-end space-x-2 mt-6">
            <button @click="showServiceModal = false; editingService = null" class="px-4 py-2 border rounded">å–æ¶ˆ</button>
            <button @click="saveService" class="px-4 py-2 bg-blue-500 text-white rounded">ä¿å­˜</button>
          </div>
        </div>
      </div>

      <!-- è¯Šæ‰€ç¼–è¾‘æ¨¡æ€æ¡† -->
      <div v-if="showClinicModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-start justify-center overflow-y-auto" @click.self="closeClinicModal">
        <div class="bg-white rounded-lg p-6 w-full max-w-4xl my-8 mx-4" @click.stop>
          <h3 class="text-xl font-bold mb-4">{{ editingClinic?._id ? 'ç¼–è¾‘è¯Šæ‰€' : 'æ·»åŠ è¯Šæ‰€' }}</h3>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <!-- åŸºæœ¬ä¿¡æ¯ -->
            <div class="col-span-2">
              <h4 class="text-lg font-semibold mb-3 text-blue-600">åŸºæœ¬ä¿¡æ¯</h4>
            </div>

            <div>
              <label class="block text-sm font-medium mb-1">è¯Šæ‰€åç§°ï¼ˆä¸­æ–‡ï¼‰*</label>
              <input v-model="editingClinic.nameCn" class="w-full border rounded px-3 py-2" placeholder="ä¸­æ–‡åç§°">
            </div>

            <div>
              <label class="block text-sm font-medium mb-1">è¯Šæ‰€åç§°ï¼ˆéŸ©æ–‡ï¼‰</label>
              <input v-model="editingClinic.nameKr" class="w-full border rounded px-3 py-2" placeholder="í•œê¸€ ì´ë¦„">
            </div>

            <div>
              <label class="block text-sm font-medium mb-1">Logoå›¾ç‰‡</label>
              <!-- å›¾ç‰‡é¢„è§ˆ -->
              <div v-if="editingClinic.logo" class="mb-2">
                <img :src="editingClinic.logo" class="w-20 h-20 object-cover rounded border" />
              </div>
              <!-- ä¸Šä¼ æŒ‰é’® -->
              <div class="flex items-center space-x-2">
                <label class="cursor-pointer bg-blue-500 text-white px-3 py-2 rounded hover:bg-blue-600 text-sm">
                  <span v-if="!uploadingLogo">{{ editingClinic.logo ? 'æ›´æ¢å›¾ç‰‡' : 'ä¸Šä¼ å›¾ç‰‡' }}</span>
                  <span v-else>ä¸Šä¼ ä¸­...</span>
                  <input type="file" accept="image/*" @change="uploadClinicLogo" class="hidden" :disabled="uploadingLogo">
                </label>
                <span v-if="editingClinic.logo" @click="editingClinic.logo = ''" class="text-red-500 cursor-pointer text-sm hover:underline">åˆ é™¤</span>
              </div>
              <p class="text-xs text-gray-500 mt-1">æ”¯æŒ JPGã€PNG æ ¼å¼ï¼Œå»ºè®®å°ºå¯¸ 200x200</p>
            </div>

            <div>
              <label class="block text-sm font-medium mb-1">åœ°åŒº/åŒºåŸŸ*</label>
              <select v-model="editingClinic.district" class="w-full border rounded px-3 py-2">
                <option value="">è¯·é€‰æ‹©</option>
                <option value="æ±Ÿå—åŒº">æ±Ÿå—åŒº</option>
                <option value="ç‘è‰åŒº">ç‘è‰åŒº</option>
                <option value="æ–°æ²™æ´">æ–°æ²™æ´</option>
                <option value="ç‹é¸¥äº­">ç‹é¸¥äº­</option>
                <option value="æ¸…æ½­æ´">æ¸…æ½­æ´</option>
                <option value="æ˜æ´">æ˜æ´</option>
              </select>
            </div>

            <!-- åœ°å€ä¿¡æ¯ -->
            <div class="col-span-2">
              <h4 class="text-lg font-semibold mb-3 mt-4 text-blue-600">åœ°å€ä¿¡æ¯</h4>
            </div>

            <div>
              <label class="block text-sm font-medium mb-1">è¯¦ç»†åœ°å€ï¼ˆä¸­æ–‡ï¼‰*</label>
              <input v-model="editingClinic.address" class="w-full border rounded px-3 py-2" placeholder="é¦–å°”å¸‚æ±Ÿå—åŒº...">
            </div>

            <div>
              <label class="block text-sm font-medium mb-1">è¯¦ç»†åœ°å€ï¼ˆéŸ©æ–‡ï¼‰</label>
              <input v-model="editingClinic.addressKr" class="w-full border rounded px-3 py-2" placeholder="ì„œìš¸ì‹œ ê°•ë‚¨êµ¬...">
            </div>

            <!-- è”ç³»æ–¹å¼ -->
            <div class="col-span-2">
              <h4 class="text-lg font-semibold mb-3 mt-4 text-blue-600">è”ç³»æ–¹å¼</h4>
            </div>

            <!-- è”ç³»ç”µè¯å’Œå®˜ç½‘åœ°å€å·²ç§»é™¤ -->

            <div>
              <label class="block text-sm font-medium mb-1">å¾®ä¿¡å·</label>
              <input v-model="editingClinic.wechat" class="w-full border rounded px-3 py-2" placeholder="å¾®ä¿¡å·">
            </div>

            <div>
              <label class="block text-sm font-medium mb-1">è¥ä¸šæ—¶é—´</label>
              <input v-model="editingClinic.businessHours" class="w-full border rounded px-3 py-2" placeholder="09:00-18:00">
            </div>

            <!-- è¯„åˆ†å’Œä»·æ ¼ -->
            <div class="col-span-2">
              <h4 class="text-lg font-semibold mb-3 mt-4 text-blue-600">è¯„åˆ†å’Œä»·æ ¼</h4>
            </div>

            <div>
              <label class="block text-sm font-medium mb-1">Naveråœ°å›¾è¯„åˆ†</label>
              <input v-model.number="editingClinic.naverRating" type="number" step="0.1" max="5" class="w-full border rounded px-3 py-2" placeholder="4.5">
              <p class="text-xs text-gray-500 mt-1">0-5åˆ†</p>
            </div>

            <div>
              <label class="block text-sm font-medium mb-1">ä»·æ ¼æ¡£æ¬¡</label>
              <select v-model="editingClinic.priceRange" class="w-full border rounded px-3 py-2">
                <option value="ä½æ¡£">ä½æ¡£</option>
                <option value="ä¸­æ¡£">ä¸­æ¡£</option>
                <option value="ä¸­é«˜æ¡£">ä¸­é«˜æ¡£</option>
                <option value="é«˜æ¡£">é«˜æ¡£</option>
              </select>
            </div>

            <!-- æœåŠ¡ä¿¡æ¯ -->
            <div class="col-span-2">
              <h4 class="text-lg font-semibold mb-3 mt-4 text-blue-600">æœåŠ¡ä¿¡æ¯</h4>
            </div>

            <div class="col-span-2">
              <label class="block text-sm font-medium mb-2">ä¸“é•¿é¢†åŸŸï¼ˆç‚¹å‡»é€‰æ‹©ï¼‰</label>
              <div class="flex flex-wrap gap-2">
                <label v-for="specialty in specialtyOptions" :key="specialty"
                  class="inline-flex items-center px-3 py-1.5 rounded-full cursor-pointer transition-all text-sm"
                  :class="isSpecialtySelected(specialty) ? 'bg-blue-500 text-white' : 'bg-gray-100 hover:bg-gray-200 text-gray-700'">
                  <input type="checkbox" :value="specialty" class="hidden" @change="toggleSpecialty(specialty)">
                  <span>{{ specialty }}</span>
                </label>
              </div>
              <p class="text-xs text-gray-500 mt-2">å·²é€‰: {{ getSelectedSpecialties() || 'æ— ' }}</p>
            </div>

            <div class="col-span-2">
              <label class="block text-sm font-medium mb-2">æ ‡ç­¾ï¼ˆç‚¹å‡»é€‰æ‹©ï¼‰</label>
              <div class="flex flex-wrap gap-2">
                <label v-for="tag in tagOptions" :key="tag"
                  class="inline-flex items-center px-3 py-1.5 rounded-full cursor-pointer transition-all text-sm"
                  :class="isTagSelected(tag) ? 'bg-green-500 text-white' : 'bg-gray-100 hover:bg-gray-200 text-gray-700'">
                  <input type="checkbox" :value="tag" class="hidden" @change="toggleTag(tag)">
                  <span>{{ tag }}</span>
                </label>
              </div>
              <p class="text-xs text-gray-500 mt-2">å·²é€‰: {{ getSelectedTags() || 'æ— ' }}</p>
            </div>

            <!-- å›¾ç‰‡ä¸Šä¼  -->
            <div class="col-span-2">
              <h4 class="text-lg font-semibold mb-3 mt-4 text-blue-600">å›¾ç‰‡èµ„æ–™</h4>
            </div>

            <!-- å±•ç¤ºå›¾ç‰‡/å°é¢å›¾ç‰‡ -->
            <div class="col-span-2">
              <label class="block text-sm font-medium mb-1">å±•ç¤ºå›¾ç‰‡ï¼ˆå°é¢å›¾ç‰‡ï¼‰</label>
              <p class="text-xs text-gray-500 mb-2">ä¸Šä¼ è¯Šæ‰€å°é¢å›¾ç‰‡ï¼Œå°†åœ¨å°ç¨‹åºè¯Šæ‰€è¯¦æƒ…é¡µé¡¶éƒ¨è½®æ’­å±•ç¤º</p>
              <div v-if="editingClinic.images && editingClinic.images.length > 0" class="flex flex-wrap gap-2 mb-2">
                <div v-for="(img, index) in editingClinic.images" :key="index" class="relative">
                  <img :src="img" class="w-32 h-24 object-cover rounded border" />
                  <span @click="removeGalleryImage(index)" class="absolute -top-2 -right-2 bg-red-500 text-white w-5 h-5 rounded-full flex items-center justify-center cursor-pointer text-xs">Ã—</span>
                </div>
              </div>
              <label class="cursor-pointer bg-pink-500 text-white px-4 py-2 rounded hover:bg-pink-600 inline-flex items-center">
                <input type="file" class="hidden" accept="image/*" @change="uploadGalleryImage" multiple>
                <span v-if="!uploadingGalleryImage">æ·»åŠ å±•ç¤ºå›¾ç‰‡</span>
                <span v-else>ä¸Šä¼ ä¸­...</span>
              </label>
              <p class="text-xs text-gray-500 mt-1">æ”¯æŒä¸Šä¼ å¤šå¼ å›¾ç‰‡ï¼Œå»ºè®®å°ºå¯¸ 750x500</p>
            </div>

            <!-- ä»·æ ¼å›¾ç‰‡ -->
            <div class="col-span-2">
              <label class="block text-sm font-medium mb-1">é¡¹ç›®ä»·æ ¼å›¾ç‰‡</label>
              <p class="text-xs text-gray-500 mb-2">ä¸Šä¼ ä»·ç›®è¡¨å›¾ç‰‡ï¼Œå°†åœ¨å°ç¨‹åº"ä»·æ ¼æ˜ç»†"ä¸­å±•ç¤º</p>
              <div v-if="editingClinic.priceImage" class="mb-2">
                <img :src="editingClinic.priceImage" class="max-w-full h-40 object-contain rounded border" />
              </div>
              <div class="flex items-center space-x-2">
                <label class="cursor-pointer bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 inline-flex items-center">
                  <input type="file" class="hidden" accept="image/*" @change="uploadPriceImage">
                  <span v-if="!uploadingPriceImage">{{ editingClinic.priceImage ? 'æ›´æ¢ä»·æ ¼å›¾ç‰‡' : 'ä¸Šä¼ ä»·æ ¼å›¾ç‰‡' }}</span>
                  <span v-else>ä¸Šä¼ ä¸­...</span>
                </label>
                <span v-if="editingClinic.priceImage" @click="editingClinic.priceImage = ''" class="text-red-500 cursor-pointer text-sm hover:underline">åˆ é™¤</span>
              </div>
            </div>

            <!-- èµ„è´¨è®¤è¯å›¾ç‰‡ -->
            <div class="col-span-2">
              <label class="block text-sm font-medium mb-1">èµ„è´¨è®¤è¯å›¾ç‰‡</label>
              <p class="text-xs text-gray-500 mb-2">ä¸Šä¼ åŒ»ç”Ÿ/æœºæ„èµ„è´¨è¯ä¹¦å›¾ç‰‡ï¼Œå°†åœ¨å°ç¨‹åº"åº—é“ºä¿¡æ¯"ä¸­å±•ç¤º</p>
              <div v-if="editingClinic.certificationImages && editingClinic.certificationImages.length > 0" class="flex flex-wrap gap-2 mb-2">
                <div v-for="(img, index) in editingClinic.certificationImages" :key="index" class="relative">
                  <img :src="img" class="w-32 h-24 object-cover rounded border" />
                  <span @click="removeCertImage(index)" class="absolute -top-2 -right-2 bg-red-500 text-white w-5 h-5 rounded-full flex items-center justify-center cursor-pointer text-xs">Ã—</span>
                </div>
              </div>
              <label class="cursor-pointer bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 inline-flex items-center">
                <input type="file" class="hidden" accept="image/*" @change="uploadCertImage" multiple>
                <span v-if="!uploadingCertImage">æ·»åŠ èµ„è´¨å›¾ç‰‡</span>
                <span v-else>ä¸Šä¼ ä¸­...</span>
              </label>
              <p class="text-xs text-gray-500 mt-1">æ”¯æŒä¸Šä¼ å¤šå¼ å›¾ç‰‡</p>
            </div>

            <!-- å‰åå¯¹æ¯”å›¾ -->
            <div class="col-span-2">
              <label class="block text-sm font-medium mb-1">å‰åå¯¹æ¯”å›¾</label>
              <p class="text-xs text-gray-500 mb-2">ä¸Šä¼ æœåŠ¡å‰åå¯¹æ¯”å›¾ç‰‡ï¼Œå°†åœ¨å°ç¨‹åºè¯Šæ‰€è¯¦æƒ…é¡µå±•ç¤º</p>
              <div v-if="editingClinic.beforeAfterImages && editingClinic.beforeAfterImages.length > 0" class="flex flex-wrap gap-2 mb-2">
                <div v-for="(img, index) in editingClinic.beforeAfterImages" :key="index" class="relative">
                  <img :src="img" class="w-32 h-24 object-cover rounded border" />
                  <span @click="removeBeforeAfterImage(index)" class="absolute -top-2 -right-2 bg-red-500 text-white w-5 h-5 rounded-full flex items-center justify-center cursor-pointer text-xs">Ã—</span>
                </div>
              </div>
              <label class="cursor-pointer bg-purple-500 text-white px-4 py-2 rounded hover:bg-purple-600 inline-flex items-center">
                <input type="file" class="hidden" accept="image/*" @change="uploadBeforeAfterImage" multiple>
                <span v-if="!uploadingBeforeAfterImage">æ·»åŠ å¯¹æ¯”å›¾</span>
                <span v-else>ä¸Šä¼ ä¸­...</span>
              </label>
              <p class="text-xs text-gray-500 mt-1">æ”¯æŒä¸Šä¼ å¤šå¼ å›¾ç‰‡</p>
            </div>


            <!-- ç‰¹è‰²å’ŒçŠ¶æ€ -->
            <div class="col-span-2">
              <h4 class="text-lg font-semibold mb-3 mt-4 text-blue-600">ç‰¹è‰²å’ŒçŠ¶æ€</h4>
            </div>

            <div class="flex items-center space-x-6">
              <label class="flex items-center">
                <input type="checkbox" v-model="editingClinic.hasChineseService" class="mr-2">
                <span class="text-sm font-medium">æä¾›ä¸­æ–‡æœåŠ¡</span>
              </label>

              <label class="flex items-center">
                <input type="checkbox" v-model="editingClinic.featured" class="mr-2">
                <span class="text-sm font-medium">æ¨èè¯Šæ‰€</span>
              </label>

              <label class="flex items-center">
                <input type="checkbox" v-model="editingClinic.isFree" class="mr-2">
                <span class="text-sm font-medium">é™å…æ´»åŠ¨</span>
              </label>
            </div>
          </div>

          <div class="flex justify-end space-x-2 mt-6">
            <button @click="closeClinicModal" class="px-4 py-2 border rounded hover:bg-gray-100">å–æ¶ˆ</button>
            <button @click="saveClinic" class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">ä¿å­˜</button>
          </div>
        </div>
      </div>

      <!-- é¡¾é—®ç¼–è¾‘æ¨¡æ€æ¡† -->
      <div v-if="showConsultantModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
        <div class="bg-white rounded-lg p-6 w-full max-w-3xl max-h-[90vh] overflow-y-auto">
          <h3 class="text-xl font-bold mb-4">{{ editingConsultant?._id ? 'ç¼–è¾‘é¡¾é—®' : 'æ·»åŠ é¡¾é—®' }}</h3>

          <div class="grid grid-cols-2 gap-4">
            <div>
              <label class="block text-sm font-medium mb-1">å§“åï¼ˆä¸­æ–‡ï¼‰*</label>
              <input v-model="editingConsultant.name" class="w-full border rounded px-3 py-2">
            </div>
            <div>
              <label class="block text-sm font-medium mb-1">å§“åï¼ˆéŸ©æ–‡ï¼‰</label>
              <input v-model="editingConsultant.nameKr" class="w-full border rounded px-3 py-2">
            </div>
            <div>
              <label class="block text-sm font-medium mb-1">ç”µè¯</label>
              <input v-model="editingConsultant.phone" class="w-full border rounded px-3 py-2">
            </div>
            <div>
              <label class="block text-sm font-medium mb-1">å¾®ä¿¡å·*</label>
              <input v-model="editingConsultant.wechat" class="w-full border rounded px-3 py-2">
            </div>
            <div>
              <label class="block text-sm font-medium mb-1">KakaoTalk</label>
              <input v-model="editingConsultant.kakaoTalk" class="w-full border rounded px-3 py-2">
            </div>
            <div>
              <label class="block text-sm font-medium mb-1">æ€§åˆ«</label>
              <select v-model="editingConsultant.gender" class="w-full border rounded px-3 py-2">
                <option value="female">å¥³</option>
                <option value="male">ç”·</option>
              </select>
            </div>
            <div>
              <label class="block text-sm font-medium mb-1">ä»ä¸šå¹´é™</label>
              <input v-model.number="editingConsultant.experience" type="number" class="w-full border rounded px-3 py-2">
            </div>
            <div>
              <label class="block text-sm font-medium mb-1">è¯„åˆ†ï¼ˆ0-5ï¼‰</label>
              <input v-model.number="editingConsultant.rating" type="number" step="0.1" max="5" class="w-full border rounded px-3 py-2">
            </div>
            <div>
              <label class="block text-sm font-medium mb-1">å’¨è¯¢è´¹ï¼ˆå…ƒï¼‰</label>
              <input v-model.number="editingConsultant.consultationFee" type="number" class="w-full border rounded px-3 py-2">
            </div>
            <div>
              <label class="block text-sm font-medium mb-1">é™ªåŒè´¹ï¼ˆå…ƒï¼‰</label>
              <input v-model.number="editingConsultant.accompanyFee" type="number" class="w-full border rounded px-3 py-2">
            </div>
            <div>
              <label class="block text-sm font-medium mb-1">çŠ¶æ€</label>
              <select v-model="editingConsultant.status" class="w-full border rounded px-3 py-2">
                <option value="active">åœ¨çº¿</option>
                <option value="busy">å¿™ç¢Œ</option>
                <option value="vacation">ä¼‘å‡</option>
                <option value="inactive">ç¦»çº¿</option>
              </select>
            </div>
            <div class="flex items-center">
              <input type="checkbox" v-model="editingConsultant.featured" class="mr-2">
              <label class="text-sm font-medium">æ¨èé¡¾é—®</label>
            </div>
          </div>

          <div class="mt-4">
            <label class="block text-sm font-medium mb-1">è¯­è¨€èƒ½åŠ›ï¼ˆé€—å·åˆ†éš”ï¼‰</label>
            <input v-model="editingConsultant.languagesStr" class="w-full border rounded px-3 py-2" placeholder="ä¸­æ–‡,éŸ©è¯­,è‹±è¯­">
          </div>

          <div class="mt-4">
            <label class="block text-sm font-medium mb-1">ä¸“é•¿é¢†åŸŸï¼ˆé€—å·åˆ†éš”ï¼‰</label>
            <input v-model="editingConsultant.specialtiesStr" class="w-full border rounded px-3 py-2" placeholder="åŒ»ç¾å’¨è¯¢,æ•´å½¢å’¨è¯¢">
          </div>

          <div class="mt-4">
            <label class="block text-sm font-medium mb-1">æœåŠ¡åŒºåŸŸï¼ˆé€—å·åˆ†éš”ï¼‰</label>
            <input v-model="editingConsultant.serviceAreasStr" class="w-full border rounded px-3 py-2" placeholder="æ±Ÿå—åŒº,ç‘è‰åŒº">
          </div>

          <div class="mt-4">
            <label class="block text-sm font-medium mb-1">æ ‡ç­¾ï¼ˆé€—å·åˆ†éš”ï¼‰</label>
            <input v-model="editingConsultant.tagsStr" class="w-full border rounded px-3 py-2" placeholder="èµ„æ·±é¡¾é—®,åŒè¯­æœåŠ¡">
          </div>

          <div class="mt-4">
            <label class="block text-sm font-medium mb-1">ç®€ä»‹ï¼ˆä¸­æ–‡ï¼‰</label>
            <textarea v-model="editingConsultant.introduction" class="w-full border rounded px-3 py-2" rows="2"></textarea>
          </div>

          <div class="mt-4">
            <label class="block text-sm font-medium mb-1">ç®€ä»‹ï¼ˆéŸ©æ–‡ï¼‰</label>
            <textarea v-model="editingConsultant.introductionKr" class="w-full border rounded px-3 py-2" rows="2"></textarea>
          </div>

          <div class="flex justify-end space-x-2 mt-6">
            <button @click="showConsultantModal = false; editingConsultant = null" class="px-4 py-2 border rounded">å–æ¶ˆ</button>
            <button @click="saveConsultant" class="px-4 py-2 bg-blue-500 text-white rounded">ä¿å­˜</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="vue.global.js"></script>
  <script src="axios.min.js"></script>
  <script src="admin.js"></script>
</body>
</html>